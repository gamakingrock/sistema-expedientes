<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Administración</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      color: #333;
    }
    .container {
      width: 100%;
      max-width: 1200px;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    }
    .login-container {
      padding: 50px 40px;
      text-align: center;
    }
    .admin-container {
      display: none;
      padding: 30px;
    }
    h1 {
      color: #1a2a6c;
      margin-bottom: 30px;
      font-size: 2.2rem;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }
    .form-group {
      margin-bottom: 25px;
    }
    label {
      display: block;
      text-align: left;
      margin-bottom: 8px;
      font-weight: 600;
      color: #1a2a6c;
    }
    input, select {
      width: 100%;
      padding: 14px;
      border: 2px solid #ddd;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s;
    }
    input:focus, select:focus {
      border-color: #1a2a6c;
      box-shadow: 0 0 0 3px rgba(26, 42, 108, 0.2);
      outline: none;
    }
    .btn {
      background: linear-gradient(to right, #1a2a6c, #b21f1f);
      color: white;
      border: none;
      padding: 14px 25px;
      border-radius: 12px;
      font-size: 18px;
      cursor: pointer;
      width: 100%;
      font-weight: 600;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .tabs {
      display: flex;
      margin-bottom: 30px;
      border-bottom: 2px solid #eee;
    }
    .tab {
      padding: 15px 25px;
      cursor: pointer;
      font-weight: 600;
      color: #777;
      transition: all 0.3s;
    }
    .tab.active {
      color: #1a2a6c;
      border-bottom: 3px solid #1a2a6c;
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
    }
    .readonly {
      background-color: #f8f9fa;
      font-weight: 500;
    }
    .photo-upload {
      border: 2px dashed #ddd;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    .photo-upload:hover {
      border-color: #1a2a6c;
      background-color: #f0f5ff;
    }
    .photo-preview {
      margin-top: 15px;
      height: 150px;
      background: #e9ecef;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #6c757d;
      font-style: italic;
    }
    .form-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
    }
    .section-title {
      color: #1a2a6c;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e9ecef;
    }
    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
      .login-container {
        padding: 30px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="login-container" id="loginSection">
      <h1>Sistema de Administración</h1>
      <div style="max-width: 400px; margin: 0 auto;">
        <div class="form-group">
          <label for="username">Usuario</label>
          <input type="text" id="username" placeholder="Ingrese su usuario">
        </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" id="password" placeholder="Ingrese su contraseña">
        </div>
        <button class="btn" onclick="login()">Iniciar Sesión</button>
      </div>
    </div>

    <div class="admin-container" id="adminSection">
      <h1>Panel de Administración</h1>
      <div class="tabs">
        <div class="tab active" onclick="showTab(this, 'register')">Registrar Personal</div>
      </div>

      <div id="register" class="tab-content">
        <div class="form-section">
          <h2 class="section-title">Información Personal</h2>
          <div class="form-grid">
            <div class="form-group photo-upload" onclick="document.getElementById('photoInput').click()">
              <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="previewPhoto(event)">
              <div>Haga clic para subir foto</div>
              <div class="photo-preview">Vista previa de la foto</div>
            </div>
            <div class="form-group">
              <label>Nombres</label>
              <input type="text" placeholder="Ingrese nombres">
            </div>
            <div class="form-group">
              <label>Apellidos</label>
              <input type="text" placeholder="Ingrese apellidos">
            </div>
            <div class="form-group">
              <label>Edad</label>
              <input type="number" min="18" max="100" placeholder="Edad">
            </div>
            <div class="form-group">
              <label>Rango</label>
              <select>
                <option value="">Seleccione rango</option>
                <option value="Capitán">Capitán</option>
                <option value="Teniente">Teniente</option>
                <option value="Sargento">Sargento</option>
                <option value="Oficial">Oficial</option>
              </select>
            </div>
            <div class="form-group">
              <label>Sexo</label>
              <select>
                <option value="">Seleccione sexo</option>
                <option value="Masculino">Masculino</option>
                <option value="Femenino">Femenino</option>
                <option value="Otro">Otro</option>
              </select>
            </div>
            <div class="form-group">
              <label>Cédula de Identidad</label>
              <input type="text" placeholder="Ingrese cédula">
            </div>
            <div class="form-group">
              <label>Fecha de Nacimiento</label>
              <input type="date">
            </div>
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-title">Información del Expediente</h2>
          <div class="form-grid">
            <div class="form-group">
              <label>Fecha de Inicio</label>
              <input type="date">
            </div>
            <div class="form-group">
              <label>Tipo de Expediente</label>
              <select>
                <option value="">Seleccione tipo</option>
                <option value="Penal">Penal</option>
                <option value="Administrativo">Administrativo</option>
                <option value="Disciplinario">Disciplinario</option>
              </select>
            </div>
            <div class="form-group">
              <label>ICAP (Oficina)</label>
              <input type="text" placeholder="Ingrese ICAP">
            </div>
            <div class="form-group">
              <label>Condición del Funcionario en el Caso</label>
              <select>
                <option value="">Seleccione condición</option>
                <option value="Activo">Activo</option>
                <option value="Licencia">Licencia</option>
                <option value="Jubilado">Jubilado</option>
              </select>
            </div>
            <div class="form-group">
              <label>Año</label>
              <input type="number" min="2000" max="2099" placeholder="Año">
            </div>
            <div class="form-group">
              <label>Servicio donde Labora el Funcionario</label>
              <input type="text" placeholder="Ingrese servicio">
            </div>
            <div class="form-group">
              <label>Tipo de Falta</label>
              <select>
                <option value="">Seleccione tipo</option>
                <option value="Grave">Grave</option>
                <option value="Menor">Menor</option>
                <option value="Leve">Leve</option>
              </select>
            </div>
            <div class="form-group">
              <label>Origen de la Falta</label>
              <select>
                <option value="">Seleccione origen</option>
                <option value="Interna">Interna</option>
                <option value="Externa">Externa</option>
                <option value="Ciudadano">Ciudadano</option>
              </select>
            </div>
            <div class="form-group">
              <label>Falta</label>
              <input type="text" placeholder="Descripción de la falta">
            </div>
            <div class="form-group">
              <label>Denunciante</label>
              <input type="text" placeholder="Nombre del denunciante">
            </div>
            <div class="form-group">
              <label>Funcionario Detenido</label>
              <select>
                <option value="Sí">Sí</option>
                <option value="No">No</option>
              </select>
            </div>
            <div class="form-group">
              <label>Estatus</label>
              <select>
                <option value="">Seleccione estatus</option>
                <option value="Activo">Activo</option>
                <option value="Cerrado">Cerrado</option>
                <option value="En investigación">En investigación</option>
              </select>
            </div>
            <div class="form-group">
              <label>Decisión</label>
              <input type="text" placeholder="Ingrese decisión">
            </div>
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-title">Información de Solo Lectura</h2>
          <div class="form-grid">
            <div class="form-group">
              <label>Expediente Penal</label>
              <input type="text" class="readonly" readonly value="AUTOGENERADO" placeholder="Sistema">
            </div>
            <div class="form-group">
              <label>Reseña del Caso</label>
              <input type="text" class="readonly" readonly value="PENDIENTE" placeholder="Sistema">
            </div>
            <div class="form-group">
              <label>Causa</label>
              <input type="text" class="readonly" readonly value="AUTOGENERADO" placeholder="Sistema">
            </div>
            <div class="form-group">
              <label>Registrado por Sustanciador</label>
              <input type="text" class="readonly" readonly value="ADMIN" placeholder="Sistema">
            </div>
            <div class="form-group">
              <label>Remisión</label>
              <input type="text" class="readonly" readonly value="NO APLICA" placeholder="Sistema">
            </div>
            <div class="form-group">
              <label>Expediente Número</label>
              <input type="text" class="readonly" readonly value="EXP-2023-001" placeholder="Sistema">
            </div>
          </div>
        </div>

        <button class="btn" style="margin-top: 20px;">Guardar Registro</button>
      </div>
    </div>
  </div>

  <script>
    function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (username === 'admin' && password === 'admin') {
        document.getElementById('loginSection').style.display = 'none';
        document.getElementById('adminSection').style.display = 'block';
      } else {
        alert('Credenciales incorrectas. Use usuario: admin, contraseña: admin');
      }
    }
    
    function showTab(element, tabName) {
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      element.classList.add('active');
      
      document.querySelectorAll('.tab-content').forEach(content => {
        content.style.display = 'none';
      });
      document.getElementById(tabName).style.display = 'block';
    }
    
    function previewPhoto(event) {
      const preview = event.target.closest('.photo-upload').querySelector('.photo-preview');
      const file = event.target.files[0];
      
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          preview.innerHTML = <img src="${e.target.result}" style="max-width:100%; max-height:140px; border-radius:8px;">;
        }
        reader.readAsDataURL(file);
      }
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      showTab(document.querySelector('.tab'), 'register');
    });
  </script>

  <!-- Supabase SQL Tables -->
  <!--
  CREATE TABLE personal (
    id SERIAL PRIMARY KEY,
    foto_url TEXT,
    nombres VARCHAR(100) NOT NULL,
    apellidos VARCHAR(100) NOT NULL,
    edad INTEGER CHECK (edad >= 18),
    rango VARCHAR(50),
    sexo VARCHAR(20),
    cedula VARCHAR(20) UNIQUE NOT NULL,
    fecha_nacimiento DATE NOT NULL,
    fecha_inicio DATE,
    tipo_expediente VARCHAR(50),
    icap VARCHAR(100),
    condicion_funcionario VARCHAR(50),
    ano INTEGER CHECK (ano BETWEEN 2000 AND 2099),
    servicio_labora VARCHAR(100),
    tipo_falta VARCHAR(50),
    origen_falta VARCHAR(50),
    falta TEXT,
    denunciante VARCHAR(100),
    funcionario_detenido BOOLEAN DEFAULT false,
    estatus VARCHAR(50),
    decision TEXT,
    expediente_penal VARCHAR(50) DEFAULT 'AUTOGENERADO',
    resena_caso TEXT DEFAULT 'PENDIENTE',
    causa VARCHAR(50) DEFAULT 'AUTOGENERADO',
    registrado_por VARCHAR(100) DEFAULT 'ADMIN',
    remision TEXT DEFAULT 'NO APLICA',
    expediente_numero VARCHAR(50) DEFAULT 'EXP-2023-001',
    created_at TIMESTAMPTZ DEFAULT NOW()
  );
  
  CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    role VARCHAR(20) DEFAULT 'admin',
    created_at TIMESTAMPTZ DEFAULT NOW()
  );
  
  INSERT INTO users (username, password, role) 
  VALUES ('admin', 'pbkdf2:sha256:260000$DxY5zZ0N$...', 'admin');
  -->
</body>
</html>
